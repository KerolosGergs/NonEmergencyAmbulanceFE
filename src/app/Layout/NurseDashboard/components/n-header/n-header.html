<header class="profile-banner border-bottom">
  <div class="profile-gradient"></div>

  <div class="container-fluid position-relative">
    <div class="row align-items-center gx-4 gy-4 py-4">

      <!-- Avatar + identity -->
      <div class="col-12 col-lg-4 d-flex align-items-center gap-3">
        <div class="avatar-wrap">
          <img
            [class.skeleton]="loading"
            [src]="imgUrl || 'assets/images/avatar-nurse.png'"
            alt="Profile"
            class="avatar" />
          <span class="status-dot" title="Available"></span>
        </div>

        <div class="min-w-0">
          <div class="d-flex align-items-center gap-2 flex-wrap">
            <h4 class="mb-0 fw-semibold text-truncate" [class.skeleton-text]="loading">
              {{ fullName || '—' }}
            </h4>
            <span class="badge rounded-pill bg-soft badge-outline" [class.skeleton-pill]="loading">
              {{ certification || '—' }}
            </span>
          </div>
          <small class="text-muted d-block mt-1" *ngIf="phoneNumber && !loading">
            <i class="bi bi-telephone me-1"></i>{{ phoneNumber }}
          </small>
        </div>
      </div>

      <!-- Today + requests -->
      <div class="col-12 col-md-4 d-flex flex-wrap align-items-center gap-2 justify-content-md-center">
        <div class="chip">
          <i class="bi bi-calendar3 me-2"></i>
          <span [class.skeleton-text]="loading">{{ today | date:'EEEE, d MMMM y' }}</span>
        </div>
        <!-- <div class="chip chip-info">
          <i class="bi bi-bell-fill me-2"></i>
          <span [class.skeleton-text]="loading">{{ newRequests }} New Requests</span>
        </div> -->
      </div>

      <!-- Balance + actions -->
      <div class="col-12 col-lg-4 d-flex align-items-center gap-3 justify-content-lg-end">
        <div class="balance" [class.skeleton-text]="loading">
          <i class="bi bi-wallet2 me-2"></i>
          <span class="text-muted me-1">Balance</span>
          <strong>{{ totalMoney | currency:'EGP' }}</strong>
        </div>

        <div class="input-group input-group-sm withdraw-group">
          <input
            type="number"
            min="0"
            class="form-control"
            [(ngModel)]="withdrawAmount"
            [disabled]="loading"
            placeholder="Amount (EGP)"
            aria-label="Withdraw amount" />
          <button class="btn btn-primary" (click)="withdraw()" [disabled]="loading || !withdrawAmount">
            <i class="bi bi-cash-coin me-1"></i> Withdraw
          </button>
        </div>

        <button class="btn btn-outline-danger btn-sm" (click)="logout()" [disabled]="loading">
          <i class="bi bi-box-arrow-right me-1"></i> Logout
        </button>
      </div>
    </div>
  </div>
</header>